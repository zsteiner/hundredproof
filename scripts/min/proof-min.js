function errorHandler(t){if($('[data-error="'+t+'"]').removeClass("is-hidden").siblings().addClass("is-hidden"),t>0?$(".hp-button").addClass("is-hidden"):($("[data-error]").addClass("is-hidden"),$(".hp-button").removeClass("is-hidden")),0===t)$(".hp-input").removeClass("has-error");else if(1===t)$("#amount").addClass("has-error"),$(".hp-result").addClass("is-hidden");else{if(2!==t)return;$("#abv-starting, #abv-desired").addClass("has-error"),$(".hp-result").addClass("is-hidden")}}function single(t,a){a=parseFloat(a),1===a?t.next(".hp-unit").children(".plural").addClass("is-hidden"):t.next(".hp-unit").children(".plural").removeClass("is-hidden")}function convert(){amount=parseFloat(amount),startingABV=parseFloat(startingABV),desiredABV=parseFloat(desiredABV),0>=amount?errorHandler(1):desiredABV>startingABV?errorHandler(2):(errorHandler(0),amountWaterOz=(startingABV-desiredABV)/desiredABV*amount,amountWaterTeaspoon=amountWaterOz/ozToTeaspoons,amountWaterCups=amountWaterOz/ozToCups)}function data(){amount=$("#amount").val(),startingABV=$("#abv-starting").val(),desiredABV=$("#abv-desired").val()}function results(){single($("#result-oz"),amountWaterOz),$("#result-oz").text(+amountWaterOz.toFixed(2)),amountWaterOz>=2?(single($("#result-translate"),amountWaterCups),$("#result-translate").text(+amountWaterCups.toFixed(2)),$("#result-cups").removeClass("is-hidden"),$("#result-teaspoons").addClass("is-hidden")):(single($("#result-translate"),amountWaterTeaspoon),$("#result-translate").text(+amountWaterTeaspoon.toFixed(2)),$("#result-teaspoons").removeClass("is-hidden"),$("#result-cups").addClass("is-hidden"))}var amount=1,amountUnits="proof",startingABV=100,desiredABV=80,amountWaterOz=0,amountWaterTeaspoon=0;amountWaterCups=0;var ozToTeaspoons=.1666666666666667,ozToCups=8;$(".input-resize").autosizeInput(),$("input[data-visibility]").click(function(){var t=$(this).data("visibility");$(".hp-inputs").attr("data-visibility",t),"abv"===amountUnits&&"proof"===t?(startingABV=2*startingABV,desiredABV=2*desiredABV,$("#abv-starting").val(startingABV),$("#abv-desired").val(desiredABV)):(startingABV/=2,desiredABV/=2,$("#abv-starting").val(startingABV),$("#abv-desired").val(desiredABV)),amountUnits=t}),$(".hp-input").keyup(function(){value=$(this).val(),data(),setTimeout(convert(),1e3),results(),single($(this),value)}),$("#convert").click(function(){$(".hp-result").removeClass("is-hidden"),data(),convert(),results()});